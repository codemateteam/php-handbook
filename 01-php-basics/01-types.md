# 1.1 –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ PHP

> **TL;DR**
> PHP –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 8 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤: int, float, string, bool (—Å–∫–∞–ª—è—Ä–Ω—ã–µ), array, object (—Å–æ—Å—Ç–∞–≤–Ω—ã–µ), null, resource (—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ). –î–ª—è –¥–µ–Ω–µ–≥ –∏—Å–ø–æ–ª—å–∑—É–π int –≤ –∫–æ–ø–µ–π–∫–∞—Ö, –Ω–µ float (–ø–æ—Ç–µ—Ä—è —Ç–æ—á–Ω–æ—Å—Ç–∏). –ú–∞—Å—Å–∏–≤—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç copy-on-write, –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ. PHP 8.0 –¥–æ–±–∞–≤–∏–ª mixed, union types, never. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é (declare(strict_types=1)).

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–°–∫–∞–ª—è—Ä–Ω—ã–µ —Ç–∏–ø—ã](#—Å–∫–∞–ª—è—Ä–Ω—ã–µ-—Ç–∏–ø—ã)
  - [int (–¶–µ–ª–æ–µ —á–∏—Å–ª–æ)](#int-—Ü–µ–ª–æ–µ-—á–∏—Å–ª–æ)
  - [float (–ß–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π)](#float-—á–∏—Å–ª–æ-—Å-–ø–ª–∞–≤–∞—é—â–µ–π-—Ç–æ—á–∫–æ–π)
  - [string (–°—Ç—Ä–æ–∫–∞)](#string-—Å—Ç—Ä–æ–∫–∞)
  - [bool (–ë—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ)](#bool-–±—É–ª–µ–≤–æ-–∑–Ω–∞—á–µ–Ω–∏–µ)
- [–°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã](#—Å–æ—Å—Ç–∞–≤–Ω—ã–µ-—Ç–∏–ø—ã)
  - [array (–ú–∞—Å—Å–∏–≤)](#array-–º–∞—Å—Å–∏–≤)
  - [object (–û–±—ä–µ–∫—Ç)](#object-–æ–±—ä–µ–∫—Ç)
- [–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã](#—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ-—Ç–∏–ø—ã)
  - [null](#null)
  - [resource](#resource)
- [–ü—Å–µ–≤–¥–æ—Ç–∏–ø—ã (PHP 7.0+)](#–ø—Å–µ–≤–¥–æ—Ç–∏–ø—ã-php-70)
  - [mixed (PHP 8.0+)](#mixed-php-80)
  - [callable](#callable)
  - [iterable (PHP 7.1+)](#iterable-php-71)
  - [void (PHP 7.1+)](#void-php-71)
  - [never (PHP 8.1+)](#never-php-81)
- [–†–µ–∑—é–º–µ —Ç–∏–ø–æ–≤](#—Ä–µ–∑—é–º–µ-—Ç–∏–ø–æ–≤)
- [–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è](#–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è)

---

## –°–∫–∞–ª—è—Ä–Ω—ã–µ —Ç–∏–ø—ã

### int (–¶–µ–ª–æ–µ —á–∏—Å–ª–æ)

**–ß—Ç–æ —ç—Ç–æ:**
–¶–µ–ª—ã–µ —á–∏—Å–ª–∞ –±–µ–∑ –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç–∏ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ, –Ω–æ–ª—å).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```php
$age = 25;
$temperature = -10;
$zero = 0;

// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–∏—Å—Ç–µ–º—ã (32-bit / 64-bit)
echo PHP_INT_MAX;  // 9223372036854775807 (–Ω–∞ 64-bit)

// –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è float
$big = PHP_INT_MAX + 1;  // float
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
–°—á—ë—Ç—á–∏–∫–∏, ID, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –≤–æ–∑—Ä–∞—Å—Ç, –≥–æ–¥, –º–µ—Å—è—Ü, –ø–∞–≥–∏–Ω–∞—Ü–∏—è.

**–ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
```php
// –ü–∞–≥–∏–Ω–∞—Ü–∏—è
$page = 1;
$perPage = 20;
$offset = ($page - 1) * $perPage;

// ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
$userId = User::find($id)->id;  // int
```

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–µ—à—å:**
> "int ‚Äî —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞. –ò—Å–ø–æ–ª—å–∑—É—é –¥–ª—è ID, —Å—á—ë—Ç—á–∏–∫–æ–≤, –ø–∞–≥–∏–Ω–∞—Ü–∏–∏. –ï—Å–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ PHP_INT_MAX ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è float."

---

### float (–ß–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π)

**–ß—Ç–æ —ç—Ç–æ:**
–ß–∏—Å–ª–∞ —Å –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç—å—é.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```php
$price = 99.99;
$temperature = 36.6;
$pi = 3.14159;

// –ù–∞—É—á–Ω–∞—è –Ω–æ—Ç–∞—Ü–∏—è
$bigNumber = 1.5e10;  // 15000000000
```

**‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏:**
```php
$a = 0.1 + 0.2;
var_dump($a === 0.3);  // FALSE! üò±
// $a = 0.30000000000000004 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
$epsilon = 0.00001;
var_dump(abs($a - 0.3) < $epsilon);  // TRUE
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –≤–µ–ª–∏—á–∏–Ω—ã (–≤–µ—Å, —Ä–æ—Å—Ç, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞).

**‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–µ–Ω–µ–≥!**

**–ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
```php
// –ü–õ–û–•–û –¥–ª—è –¥–µ–Ω–µ–≥
$total = 10.1 + 10.2;  // 20.30000000000000004

// –•–û–†–û–®–û ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å int (–∫–æ–ø–µ–π–∫–∏/—Ü–µ–Ω—Ç—ã)
$totalCents = 1010 + 1020;  // 2030 (—Ç–æ—á–Ω–æ)
$totalRubles = $totalCents / 100;  // 20.30 (—Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)

// –ò–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
use Brick\Money\Money;
$price = Money::of(99.99, 'RUB');
```

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–µ—à—å:**
> "float ‚Äî —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π. –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –ø–æ—Ç–µ—Ä—è —Ç–æ—á–Ω–æ—Å—Ç–∏ (0.1 + 0.2 ‚â† 0.3). –î–ª—è –¥–µ–Ω–µ–≥ –∏—Å–ø–æ–ª—å–∑—É—é int –≤ –∫–æ–ø–µ–π–∫–∞—Ö –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É Brick\Money."

---

### string (–°—Ç—Ä–æ–∫–∞)

**–ß—Ç–æ —ç—Ç–æ:**
–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```php
// –û–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ (literal)
$name = '–ò–≤–∞–Ω';

// –î–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ (–∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è)
$greeting = "–ü—Ä–∏–≤–µ—Ç, $name!";  // "–ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω!"

// Heredoc (–º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Å –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π)
$html = <<<HTML
<div>
    <h1>$name</h1>
</div>
HTML;

// Nowdoc (–º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π –±–µ–∑ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏)
$text = <<<'TEXT'
–ü—Ä–∏–≤–µ—Ç, $name!
TEXT;
// –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ü—Ä–∏–≤–µ—Ç, $name!" (–±—É–∫–≤–∞–ª—å–Ω–æ)
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
–ò–º–µ–Ω–∞, email, —Ç–µ–∫—Å—Ç—ã, HTML, JSON, —Å–æ–æ–±—â–µ–Ω–∏—è, –ª–æ–≥–∏.

**–ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
```php
// Email —à–∞–±–ª–æ–Ω
$user = User::find($userId);
$subject = "–ü—Ä–∏–≤–µ—Ç, {$user->name}!";

// –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π SQL
$query = <<<SQL
    SELECT u.name, COUNT(p.id) as posts_count
    FROM users u
    LEFT JOIN posts p ON u.id = p.user_id
    WHERE u.is_active = true
    GROUP BY u.id
SQL;
```

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–µ—à—å:**
> "string ‚Äî —Å—Ç—Ä–æ–∫–∏. –û–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ ‚Äî literal (–±—ã—Å—Ç—Ä–µ–µ), –¥–≤–æ–π–Ω—ã–µ ‚Äî —Å –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π. –î–ª—è Unicode –∏—Å–ø–æ–ª—å–∑—É—é mb_* —Ñ—É–Ω–∫—Ü–∏–∏ (mb_strlen, mb_substr)."

---

### bool (–ë—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ)

**–ß—Ç–æ —ç—Ç–æ:**
–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `true` –∏–ª–∏ `false`.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```php
$isActive = true;
$isAdmin = false;

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ bool (falsy values)
var_dump((bool) 0);          // false
var_dump((bool) '0');        // false
var_dump((bool) '');         // false
var_dump((bool) null);       // false
var_dump((bool) []);         // false
var_dump((bool) 'false');    // TRUE! (–Ω–µ–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞)
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
–§–ª–∞–≥–∏ (is_active, is_admin), —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫, —É—Å–ª–æ–≤–∏—è.

**–ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
```php
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
if ($user->isAdmin()) {
    // ...
}

// Feature flags
$featureEnabled = config('features.new_ui');

// –í–∞–ª–∏–¥–∞—Ü–∏—è
$isValid = filter_var($email, FILTER_VALIDATE_EMAIL);
```

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–µ—à—å:**
> "bool ‚Äî true –∏–ª–∏ false. –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å falsy values: 0, '0', '', null, [], false ‚Äî –≤—Å—ë —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ false. –°—Ç—Ä–æ–∫–∞ 'false' ‚Üí true (–Ω–µ–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞)."

---

## –°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã

### array (–ú–∞—Å—Å–∏–≤)

**–ß—Ç–æ —ç—Ç–æ:**
–£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ (–∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–∞—è —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```php
// –ò–Ω–¥–µ–∫—Å–Ω—ã–π –º–∞—Å—Å–∏–≤
$numbers = [1, 2, 3, 4, 5];

// –ê—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–π –º–∞—Å—Å–∏–≤
$user = [
    'id' => 1,
    'name' => '–ò–≤–∞–Ω',
    'email' => 'ivan@mail.com',
];

// –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã
$users = [
    ['id' => 1, 'name' => '–ò–≤–∞–Ω'],
    ['id' => 2, 'name' => '–ü—ë—Ç—Ä'],
];

// –î–æ—Å—Ç—É–ø
echo $user['name'];  // "–ò–≤–∞–Ω"
echo $users[0]['id'];  // 1
```

**Copy-on-Write:**
```php
$a = [1, 2, 3];  // –í—ã–¥–µ–ª–µ–Ω–∞ –ø–∞–º—è—Ç—å
$b = $a;         // –ö–æ–ø–∏—è –ù–ï —Å–æ–∑–¥–∞—ë—Ç—Å—è (—Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∞)
$b[] = 4;        // –ó–î–ï–°–¨ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∫–æ–ø–∏—è (copy-on-write)

var_dump($a);  // [1, 2, 3]
var_dump($b);  // [1, 2, 3, 4]
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
–°–ø–∏—Å–∫–∏, –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
```php
// –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
$users = DB::table('users')->get()->toArray();

// –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
Post::create([
    'title' => 'Post Title',
    'content' => 'Content...',
    'author_id' => 1,
]);

// Route middleware
Route::get('/admin', [AdminController::class, 'index'])
    ->middleware(['auth', 'role:admin']);
```

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–µ—à—å:**
> "array ‚Äî —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω–¥–µ–∫—Å–Ω—ã–µ –∏ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç copy-on-write: –∫–æ–ø–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏."

---

### object (–û–±—ä–µ–∫—Ç)

**–ß—Ç–æ —ç—Ç–æ:**
–≠–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (—Å–≤–æ–π—Å—Ç–≤–∞) –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º (–º–µ—Ç–æ–¥—ã).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```php
class User
{
    public string $name;
    public string $email;

    public function __construct(string $name, string $email)
    {
        $this->name = $name;
        $this->email = $email;
    }

    public function greet(): string
    {
        return "–ü—Ä–∏–≤–µ—Ç, {$this->name}!";
    }
}

$user = new User('–ò–≤–∞–Ω', 'ivan@mail.com');
echo $user->greet();  // "–ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω!"
```

**–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ —Å—Å—ã–ª–∫–µ (–ø–æ–≤–µ–¥–µ–Ω–∏–µ):**
```php
function changeEmail(User $user): void
{
    $user->email = 'new@mail.com';  // –ò–∑–º–µ–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª
}

$user = new User('–ò–≤–∞–Ω', 'ivan@mail.com');
changeEmail($user);
echo $user->email;  // "new@mail.com" (–∏–∑–º–µ–Ω–∏–ª—Å—è!)
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
–ú–æ–¥–µ–ª–∏ (User, Post), —Å–µ—Ä–≤–∏—Å—ã (PaymentService), Value Objects (Money, Email).

**–ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
```php
// Eloquent –º–æ–¥–µ–ª—å
$user = User::find(1);
$user->update(['name' => '–ù–æ–≤–æ–µ –∏–º—è']);

// –°–µ—Ä–≤–∏—Å
class OrderService
{
    public function create(array $data): Order
    {
        return Order::create($data);
    }
}

// Value Object
class Money
{
    public function __construct(
        private int $amount,
        private string $currency
    ) {}

    public function add(Money $other): Money
    {
        if ($this->currency !== $other->currency) {
            throw new \Exception('Currency mismatch');
        }
        return new Money($this->amount + $other->amount, $this->currency);
    }
}
```

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–µ—à—å:**
> "object ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞. –ü–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ (–ø–æ–≤–µ–¥–µ–Ω–∏–µ): –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª. –ò—Å–ø–æ–ª—å–∑—É—é –¥–ª—è –º–æ–¥–µ–ª–µ–π, —Å–µ—Ä–≤–∏—Å–æ–≤, value objects."

---

## –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã

### null

**–ß—Ç–æ —ç—Ç–æ:**
–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```php
$value = null;

// –ü—Ä–æ–≤–µ—Ä–∫–∞
if ($value === null) {
    echo '–ó–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ';
}

// isset() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç isset AND !== null
isset($value);  // false

// ?? (null coalescing) - PHP 7.0+
$name = $user->name ?? '–ì–æ—Å—Ç—å';

// ?-> (nullsafe) - PHP 8.0+
$street = $user->address?->street;  // –ï—Å–ª–∏ address = null ‚Üí –≤–µ—Ä–Ω—ë—Ç null (–±–µ–∑ –æ—à–∏–±–∫–∏)
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ (–Ω–∞–π–¥–µ–Ω–æ/–Ω–µ –Ω–∞–π–¥–µ–Ω–æ), –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞.

**–ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
```php
// Eloquent
$user = User::find($userId);  // User | null

if ($user === null) {
    abort(404);
}

// Nullable type hint (PHP 7.1+)
function getUser(?int $id): ?User
{
    return $id ? User::find($id) : null;
}

// Nullsafe chain (PHP 8.0+)
$city = $user?->address?->city ?? '–ù–µ —É–∫–∞–∑–∞–Ω';
```

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–µ—à—å:**
> "null ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è. PHP 8.0 –¥–æ–±–∞–≤–∏–ª nullsafe –æ–ø–µ—Ä–∞—Ç–æ—Ä (?->), PHP 7.0 ‚Äî null coalescing (??). –ò—Å–ø–æ–ª—å–∑—É—é –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞."

---

### resource

**–ß—Ç–æ —ç—Ç–æ:**
–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Ä–µ—Å—É—Ä—Å (—Ñ–∞–π–ª, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î, curl).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```php
// –§–∞–π–ª
$file = fopen('file.txt', 'r');
var_dump($file);  // resource(3) of type (stream)
fclose($file);

// cURL (PHP < 8.0)
$ch = curl_init('https://api.example.com');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
$response = curl_exec($ch);
curl_close($ch);
```

**PHP 8.0+ ‚Äî –æ–±—ä–µ–∫—Ç—ã –≤–º–µ—Å—Ç–æ resource:**
```php
$ch = curl_init();  // CurlHandle object (–Ω–µ resource)
$file = fopen('file.txt', 'r');  // resource (stream) ‚Üí –≤ –±—É–¥—É—â–µ–º —Ç–æ–∂–µ —Å—Ç–∞–Ω–µ—Ç –æ–±—ä–µ–∫—Ç–æ–º
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
Legacy –∫–æ–¥ (PHP < 8.0), –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏/—Å–µ—Ç—å—é.

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–µ—à—å:**
> "resource ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Ä–µ—Å—É—Ä—Å (—Ñ–∞–π–ª, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ). –í PHP 8+ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç—ã (curl_init() ‚Üí CurlHandle). –í–∞–∂–Ω–æ –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã."

---

## –ü—Å–µ–≤–¥–æ—Ç–∏–ø—ã (PHP 7.0+)

### mixed (PHP 8.0+)

**–ß—Ç–æ —ç—Ç–æ:**
–õ—é–±–æ–π —Ç–∏–ø (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è type hint).

```php
function process(mixed $value): mixed
{
    // –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —á—Ç–æ —É–≥–æ–¥–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á—Ç–æ —É–≥–æ–¥–Ω–æ
    return $value;
}
```

---

### callable

**–ß—Ç–æ —ç—Ç–æ:**
–§—É–Ω–∫—Ü–∏—è, –∑–∞–º—ã–∫–∞–Ω–∏–µ, –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞.

```php
function hello(): void
{
    echo 'Hello!';
}

$callback = 'hello';
$callback();  // "Hello!"

// –í array_map
array_map(fn($x) => $x * 2, [1, 2, 3]);  // [2, 4, 6]
```

---

### iterable (PHP 7.1+)

**–ß—Ç–æ —ç—Ç–æ:**
–ú–∞—Å—Å–∏–≤ –∏–ª–∏ –æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º Traversable.

```php
function printItems(iterable $items): void
{
    foreach ($items as $item) {
        echo $item;
    }
}

printItems([1, 2, 3]);  // array
printItems(new ArrayIterator([1, 2, 3]));  // Traversable
```

---

### void (PHP 7.1+)

**–ß—Ç–æ —ç—Ç–æ:**
–§—É–Ω–∫—Ü–∏—è –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç.

```php
function log(string $message): void
{
    file_put_contents('log.txt', $message);
    // return; ‚Äî –º–æ–∂–Ω–æ, –Ω–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
}
```

---

### never (PHP 8.1+)

**–ß—Ç–æ —ç—Ç–æ:**
–§—É–Ω–∫—Ü–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (exit, exception).

```php
function redirect(string $url): never
{
    header("Location: $url");
    exit;
}

function fail(string $message): never
{
    throw new Exception($message);
}
```

---

## –†–µ–∑—é–º–µ —Ç–∏–ø–æ–≤

**–°–∫–∞–ª—è—Ä–Ω—ã–µ:**
- `int` ‚Äî —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ (ID, —Å—á—ë—Ç—á–∏–∫–∏)
- `float` ‚Äî –¥—Ä–æ–±–Ω—ã–µ —á–∏—Å–ª–∞ (**–ù–ï –¥–ª—è –¥–µ–Ω–µ–≥!**)
- `string` ‚Äî —Å—Ç—Ä–æ–∫–∏ (–∏–º–µ–Ω–∞, —Ç–µ–∫—Å—Ç—ã)
- `bool` ‚Äî true/false (—Ñ–ª–∞–≥–∏)

**–°–æ—Å—Ç–∞–≤–Ω—ã–µ:**
- `array` ‚Äî —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞ (copy-on-write)
- `object` ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ (–ø–æ —Å—Å—ã–ª–∫–µ)

**–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ:**
- `null` ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
- `resource` ‚Äî –≤–Ω–µ—à–Ω–∏–π —Ä–µ—Å—É—Ä—Å (—É—Å—Ç–∞—Ä–µ–ª –≤ PHP 8+)

**–ü—Å–µ–≤–¥–æ—Ç–∏–ø—ã:**
- `mixed` ‚Äî –ª—é–±–æ–π —Ç–∏–ø (PHP 8.0+)
- `callable` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è
- `iterable` ‚Äî array –∏–ª–∏ Traversable (PHP 7.1+)
- `void` ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (PHP 7.1+)
- `never` ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (PHP 8.1+)

**–í–∞–∂–Ω–æ –Ω–∞ —Å–æ–±–µ—Å–µ:**
- float: –ø–æ—Ç–µ—Ä—è —Ç–æ—á–Ω–æ—Å—Ç–∏ ‚Üí int –¥–ª—è –¥–µ–Ω–µ–≥
- array: copy-on-write
- object: –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ —Å—Å—ã–ª–∫–µ (–ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- null: ??, ?->
- Falsy values: 0, '0', '', null, [], false

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 1: –†–∞–±–æ—Ç–∞ —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
**–£—Å–ª–æ–≤–∏–µ:** –°–æ–∑–¥–∞–π —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç mixed –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –µ–≥–æ —Ç–∏–ø–µ –∏ –∑–Ω–∞—á–µ–Ω–∏–∏.

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```php
<?php
declare(strict_types=1);

function analyzeType(mixed $value): array
{
    return [
        'type' => get_debug_type($value),
        'value' => $value,
        'is_scalar' => is_scalar($value),
        'is_truthy' => (bool) $value,
        'string_representation' => var_export($value, true),
    ];
}

// –¢–µ—Å—Ç—ã
var_dump(analyzeType(42));
// ['type' => 'int', 'value' => 42, 'is_scalar' => true, 'is_truthy' => true, ...]

var_dump(analyzeType(0));
// ['type' => 'int', 'value' => 0, 'is_scalar' => true, 'is_truthy' => false, ...]

var_dump(analyzeType(''));
// ['type' => 'string', 'value' => '', 'is_scalar' => true, 'is_truthy' => false, ...]
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- `get_debug_type()` (PHP 8.0) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—á–Ω—ã–π —Ç–∏–ø
- `is_scalar()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∫–∞–ª—è—Ä–Ω—ã–µ —Ç–∏–ø—ã
- –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ bool –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç truthy/falsy
</details>

### –ó–∞–¥–∞–Ω–∏–µ 2: –†–∞–±–æ—Ç–∞ —Å –¥–µ–Ω—å–≥–∞–º–∏
**–£—Å–ª–æ–≤–∏–µ:** –†–µ–∞–ª–∏–∑—É–π –∫–ª–∞—Å—Å Money –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ–Ω–µ–∂–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏.

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```php
<?php
declare(strict_types=1);

class Money
{
    public function __construct(
        private int $amountInCents,
        private string $currency = 'RUB'
    ) {}

    public static function fromRubles(float $rubles, string $currency = 'RUB'): self
    {
        return new self((int) round($rubles * 100), $currency);
    }

    public function add(Money $other): self
    {
        if ($this->currency !== $other->currency) {
            throw new \InvalidArgumentException('Currency mismatch');
        }

        return new self($this->amountInCents + $other->amountInCents, $this->currency);
    }

    public function toRubles(): float
    {
        return $this->amountInCents / 100;
    }

    public function format(): string
    {
        return number_format($this->toRubles(), 2, '.', ' ') . ' ' . $this->currency;
    }
}

// –¢–µ—Å—Ç—ã
$price1 = Money::fromRubles(10.10, 'RUB');
$price2 = Money::fromRubles(20.20, 'RUB');

$total = $price1->add($price2);
echo $total->format();  // "30.30 RUB"
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- –•—Ä–∞–Ω–∏–º –≤ –∫–æ–ø–µ–π–∫–∞—Ö (int) –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–∞–ª—é—Ç—ã –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
</details>

### –ó–∞–¥–∞–Ω–∏–µ 3: Type Juggling –∏ Strict Types
**–£—Å–ª–æ–≤–∏–µ:** –û–±—ä—è—Å–Ω–∏ —Ä–∞–∑–Ω–∏—Ü—É –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å strict_types –∏ –±–µ–∑.

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```php
<?php
// –§–∞–π–ª: without_strict.php (–ë–ï–ó strict_types)

function add(int $a, int $b): int
{
    return $a + $b;
}

echo add(5, 10);      // 15 ‚úÖ
echo add(5, '10');    // 15 ‚úÖ (–ø—Ä–∏–≤–µ–¥—ë—Ç '10' ‚Üí 10)
echo add('5', '10');  // 15 ‚úÖ (–ø—Ä–∏–≤–µ–¥—ë—Ç –æ–±–∞ –∫ int)
```

```php
<?php
// –§–∞–π–ª: with_strict.php (–° strict_types)
declare(strict_types=1);

function add(int $a, int $b): int
{
    return $a + $b;
}

echo add(5, 10);      // 15 ‚úÖ
echo add(5, '10');    // ‚ùå TypeError: Argument #2 must be of type int, string given
echo add('5', '10');  // ‚ùå TypeError
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- –ë–µ–∑ `strict_types` PHP –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç —Ç–∏–ø—ã
- –° `strict_types=1` —Ç—Ä–µ–±—É–µ—Ç —Ç–æ—á–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
- `strict_types` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∞–π–ª–∞, –≥–¥–µ –æ–±—ä—è–≤–ª–µ–Ω
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π `strict_types=1` –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏
</details>

---

*–ß–∞—Å—Ç—å [PHP/Laravel Interview Handbook](/) | –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∫–æ–º–∞–Ω–¥–æ–π [CodeMate](https://codemate.team)*
